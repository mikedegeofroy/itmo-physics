# Моделирование 4 — Мертвая петля

Тело массой m, разгоняется в горизонтальной плоскости и попадает на вертикально расположенный фрагмент кольца (дугу) радиуса $R$ и угловым размером $a (π/2≤ a ≤ 3π/2)$. Определить начальную скорость тела, необходимую для прохождения всей длины дуги. Построить (визуализировать) траекторию тела после отрыва от дуги. Дуга имеет коэффициент трения $\mu$. Программа должна предусматривать изменение параметров, приведенных ниже в таблице.

| $M, кг$ | $R, м$ | $a, rad$ | Коэффицент трения $\mu$ |
| - | - | - | - |
| 3 | 2 | $\pi/2 + \pi/3$ | 0.01 |

Эту модель можно разделить на 2 основные части, рассчёты и графика.
Если вкраце, то мы запускаем модель на перечени скоростей, получаем ответы, прошло ли тело через всю длинны дуги, и далее выдаёт минимальный допустимый ответ. ( На самом длеле происходит немного иначе, мы не запускаем модель для каждой скорости, а только те, что проверяем ).

## Законы по которым движется тело

При "обновлении", состояние тела проходит через проверку на состояние, тело либо каится либо находится в свободном падении. 

### Изменение ускорения

*Катится*

- Центробежное ускорение: $ a_c = \frac{v^2}{r} $
- Тангенциальное ускорение: $ a_{\text{tg}} = -\mu (a_c + g \cos(\alpha_{\text{cur}})) \pm g \sin(\alpha_{\text{cur}}) $
  - Знак плюс или минус в гравитационной составляющей зависит от угла кривизны.
- Общее ускорение: $ a = \sqrt{a_{\text{tg}}^2 + a_c^2} $

*В свободном падении*

- $ a = g $
  - Учитывается только ускорение свободного падения, так как на объект в свободном падении не действуют другие силы.

### Изменение скорости

*Катится*

- $ v_{x,\text{new}} = v_{x,\text{old}} + a_{\text{tg}} \times \text{dt} $
- $ v_{y,\text{new}} = v_{y,\text{old}} + a_c \times \text{dt} $
- Общая скорость: $ v = \sqrt{v_x^2 + v_y^2} $

*В свободном падении*

- $ v_{x,\text{new}} = v_{x,\text{old}} $ (остаётся постоянной, так как горизонтальная сила отсутствует)
- $ v_{y,\text{new}} = v_{y,\text{old}} + g \times \text{dt} $
- Общая скорость: $ v = \sqrt{v_x^2 + v_y^2} $

### Изменение координат

*Катится*

- $ x_{\text{new}} = x_{\text{old}} + v_x \times \text{dt} + \frac{1}{2} a_{\text{tg}} \times \text{dt}^2 $
- $ y_{\text{new}} = y_{\text{old}} + v_y \times \text{dt} + \frac{1}{2} a_c \times \text{dt}^2 $

*В свободном падении*

- $ x_{\text{new}} = x_{\text{old}} + v_x \times \text{dt} $ (Горизонтальное движение продолжается с постоянной скоростью)
- $ y_{\text{new}} = y_{\text{old}} + v_y \times \text{dt} + \frac{1}{2} g \times \text{dt}^2 $ (Вертикальное движение под действием гравитации)